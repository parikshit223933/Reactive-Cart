(this["webpackJsonpreactive-cart"]=this["webpackJsonpreactive-cart"]||[]).push([[0],{17:function(e,t,a){e.exports=a(34)},22:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),o=a(12),r=a.n(o),i=(a(22),a(13)),l=a(14),s=a(16),u=a(15),d={image:{height:110,width:110,borderRadius:4,backgroundColor:"orangered"}},m=function(e){var t=e.product,a=t.price,n=t.title,o=t.qty,r=t.img,i=e.onIncreaseQuantity,l=e.onDecreaseQuantity,s=e.product,u=e.onDelete;return c.a.createElement("div",{className:"cart-item",style:{backgroundColor:"white"}},c.a.createElement("div",{className:"left-block"},c.a.createElement("img",{style:d.image,alt:"",src:r})),c.a.createElement("div",{className:"right-block"},c.a.createElement("div",{style:{fontSize:25}},n),c.a.createElement("div",{style:{color:"grey"}},"Rs. ",a),c.a.createElement("div",{style:{color:"grey"}},"Quantity: ",o," ",1===e.product.qty?"Unit":"Units"),c.a.createElement("div",{className:"cart-item-actions"},c.a.createElement("button",{onClick:function(){return u(s)}},c.a.createElement("i",{className:"action-icons fas fa-trash-alt"})),c.a.createElement("button",{onClick:function(){return i(s)}},c.a.createElement("i",{className:"action-icons fas fa-plus-square"})),c.a.createElement("button",{onClick:function(){return l(s)}},c.a.createElement("i",{className:"action-icons fas fa-minus-square"})))))},p=function(e){var t=e.products;return c.a.createElement("div",{className:"cart"},t.map((function(t){return c.a.createElement(m,{product:t,key:t.id,onIncreaseQuantity:e.onIncreaseQuantity,onDecreaseQuantity:e.onDecreaseQuantity,onDelete:e.onDelete})})))},E=function(e){return c.a.createElement("div",{className:"navbar",style:{backgroundColor:"black"}},c.a.createElement("div",{style:{color:"#ff0072"}},c.a.createElement("h1",null,"Reactive Cart")),c.a.createElement("div",{className:"cart-icon-container"},c.a.createElement("button",null,c.a.createElement("i",{className:"fas fa-shopping-cart",style:{color:"white"}}),e.count>0?c.a.createElement("span",{style:{color:"white"}},e.count):"")))},f=a(8),h=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleIncreaseQuantity=function(t){var a=e.state.products,n=a.indexOf(t);e.db.collection("products").doc(a[n].id).update({qty:a[n].qty+1}).then((function(){console.log("Document updated successfully")})).catch((function(e){e&&console.log("Error",e)}))},e.handleonDecreaseQuantity=function(t){var a=e.state.products,n=a.indexOf(t);0!==a[n].qty?e.db.collection("products").doc(a[n].id).update({qty:a[n].qty-1}).then((function(){console.log("Document Updated Successfully!")})).catch((function(e){console.log("There was an error in updating the document",e)})):window.alert("Quantity cant be negative!")},e.handleDeleteProduct=function(t){var a=e.state.products,n=a.indexOf(t);e.db.collection("products").doc(a[n].id).delete().then((function(){console.log("Document Deleted Successfully")})).catch((function(e){console.log("Error in deleting the document!",e)}))},e.getCartCount=function(){var t=e.state.products,a=0;return t.forEach((function(e){a+=e.qty})),a},e.getCartTotal=function(){var t=e.state.products,a=0;return t.forEach((function(e){a+=e.qty*e.price})),a},e.addProduct=function(){e.db.collection("products").add({img:"",price:999,qty:3,title:"Washing Machine"}).then((function(e){console.log("Product has been added",e)})).catch((function(e){e&&console.log("There was an error in getting data from db")}))},e.state={products:[],loading:!0},e.db=f.firestore(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.db.collection("products").orderBy("price","desc").onSnapshot((function(t){var a=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({products:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.loading;return c.a.createElement("div",{className:"App"},c.a.createElement(E,{count:this.getCartCount(),addProduct:this.addProduct}),c.a.createElement(p,{products:t,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleonDecreaseQuantity,onDelete:this.handleDeleteProduct}),a&&c.a.createElement("div",{className:"loader"}),c.a.createElement("div",{className:"total-price-container"},c.a.createElement("h3",{className:"total-price-heading"},"Total: ",this.getCartTotal()," ",c.a.createElement("i",null,"Rupees"))))}}]),a}(c.a.Component),v=(a(33),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACTIVE_CART_API_KEY,authDomain:"reactive-cart.firebaseapp.com",databaseURL:"https://reactive-cart.firebaseio.com",projectId:"reactive-cart",storageBucket:"reactive-cart.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACTIVE_CART_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACTIVE_CART_APP_ID});f.initializeApp(v),r.a.render(c.a.createElement(h,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.55ca31b4.chunk.js.map